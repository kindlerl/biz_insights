business-insights/
â”œâ”€ README.md
â”œâ”€ LICENSE
â”œâ”€ .gitignore
â”œâ”€ requirements.txt                  # streamlit, boto3, pyathena, etc.
â”œâ”€ env/                              # never commit secrets; templates only
â”‚  â”œâ”€ .env.example                   # STREAMLIT/DB config (no secrets)
â”‚  â””â”€ streamlit.secrets.example.toml
â”œâ”€ config/
â”‚  â”œâ”€ project.yaml                   # bucket, region, db names, workgroup
â”‚  â””â”€ schedules.yaml                 # daily run time, cron notes
â”œâ”€ docs/
â”‚  â”œâ”€ architecture.md                # Bronzeâ†’Silverâ†’Gold, diagrams
â”‚  â”œâ”€ runbook_daily.md               # daily workflow, success criteria
â”‚  â”œâ”€ kpis.md                        # 7 KPI specs (definition, grain, windows)
â”‚  â””â”€ CHANGELOG.md
â”œâ”€ diagrams/
â”‚  â”œâ”€ pipeline.drawio                # your Google-maps diagram
â”‚  â””â”€ workflow.png
â”œâ”€ sql/                              # Athena SQL, organized by layer
â”‚  â”œâ”€ bronze/
â”‚  â”‚  â”œâ”€ create_db.sql               # CREATE DATABASE biz_insights
â”‚  â”‚  â”œâ”€ bronze_tables.sql           # (if not using crawler)
â”‚  â”‚  â””â”€ validation_checks.sql       # counts, orphan checks
â”‚  â”œâ”€ silver/
â”‚  â”‚  â”œâ”€ silver_tables.sql           # DDL for silver external tables
â”‚  â”‚  â””â”€ validation_checks.sql
â”‚  â”œâ”€ gold/
â”‚  â”‚  â”œâ”€ g1_daily_sales_by_store_ctas.sql
â”‚  â”‚  â”œâ”€ g1_daily_sales_by_store_insert_overwrite.sql
â”‚  â”‚  â”œâ”€ g2_item_sales_by_day_ctas.sql
â”‚  â”‚  â”œâ”€ g3_customer_facts_schema.sql        # if materialized in SQL
â”‚  â”‚  â”œâ”€ g4_discounts_by_day_ctas.sql
â”‚  â”‚  â””â”€ views.sql                   # v_sales_trends, v_top_items_30d, etc.
â”‚  â””â”€ utils/
â”‚     â””â”€ helpers.sql                 # common CTEs/patterns you copy/paste
â”œâ”€ glue/                             # Glue jobs, workflow JSON, IAM docs
â”‚  â”œâ”€ jobs/
â”‚  â”‚  â”œâ”€ silver_build.py             # your current Silver job
â”‚  â”‚  â”œâ”€ gold_g1.py                  # (if you choose Spark for G1)
â”‚  â”‚  â”œâ”€ gold_g2.py
â”‚  â”‚  â””â”€ gold_g3_customer_facts.py   # RFM/CLV features if Spark
â”‚  â”œâ”€ workflow/
â”‚  â”‚  â””â”€ workflow_spec.md            # nodes, params (--PROCESS_DATE), retries
â”‚  â””â”€ iam/
â”‚     â”œâ”€ s3_policy_bronze_silver_gold.json
â”‚     â”œâ”€ athena_minimal_user_policy.json
â”‚     â””â”€ notes.md                    # which role has which policy
â”œâ”€ streamlit_dashboard/
â”‚  â”œâ”€ app.py
â”‚  â”œâ”€ pages/                         # optional Streamlit multipage
â”‚  â”‚  â”œâ”€ 01_ğŸ“ˆ_Sales_Trends.py
â”‚  â”‚  â”œâ”€ 02_ğŸª_Top_Locations.py
â”‚  â”‚  â”œâ”€ 03_ğŸ”_Top_Items_30d.py
â”‚  â”‚  â”œâ”€ 04_ğŸŸï¸_Loyalty_Impact.py
â”‚  â”‚  â””â”€ 05_ğŸ‘¤_Customer_Facts.py
â”‚  â”œâ”€ assets/                        # logos, screenshots
â”‚  â””â”€ theme/                         # custom CSS, theming helpers
â”œâ”€ tests/
â”‚  â”œâ”€ sql/                           # lightweight SQL assertions (row counts)
â”‚  â””â”€ python/                        # unit tests for any helpers
â”œâ”€ notebooks/                        # optional scratch/EDA (if you use them)
â”‚  â””â”€ exploration.ipynb
â”œâ”€ artifacts/                        # exported PDFs/PNGs, KPI sheets, etc.
â”‚  â”œâ”€ kpi_requirements.pdf
â”‚  â””â”€ sample_charts/
â””â”€ .github/
   â””â”€ workflows/
      â”œâ”€ ci.yml                      # ruff/black + basic pytest/sqlfluff
      â””â”€ security.yml                # (optional) Trivy/Semgrep, etc.

